{"remainingRequest":"/Users/admin/Desktop/frontend-gulchitay-vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/admin/Desktop/frontend-gulchitay-vue/src/pages/home/PersonalData.vue?vue&type=style&index=0&id=a4472af4&scoped=true&lang=css","dependencies":[{"path":"/Users/admin/Desktop/frontend-gulchitay-vue/src/pages/home/PersonalData.vue","mtime":1645270881795},{"path":"/Users/admin/Desktop/frontend-gulchitay-vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/frontend-gulchitay-vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/Users/admin/Desktop/frontend-gulchitay-vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/admin/Desktop/frontend-gulchitay-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/frontend-gulchitay-vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgLmZhZGUtZW50ZXItYWN0aXZlLAogIC5mYWRlLWxlYXZlLWFjdGl2ZSB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTIwcHgpOwogICAgdHJhbnNpdGlvbjogYWxsIGVhc2UtaW4gMC42czsKICB9CgogIC5mYWRlLWVudGVyLAogIC5mYWRlLWxlYXZlLXRvIHsKICAgIG9wYWNpdHk6IDA7CiAgfQo="},{"version":3,"sources":["/Users/admin/Desktop/frontend-gulchitay-vue/src/pages/home/PersonalData.vue"],"names":[],"mappings":";EAsYE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAC9B;;EAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;EACZ","file":"/Users/admin/Desktop/frontend-gulchitay-vue/src/pages/home/PersonalData.vue","sourceRoot":"","sourcesContent":["<script setup>\n  import { computed, defineAsyncComponent, ref } from 'vue';\n  import useVuelidate from '@vuelidate/core';\n  import { required } from '@vuelidate/validators';\n  import { useStore } from 'vuex';\n  import { $toast } from '~/main';\n\n  const AtPanel = defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtPanel/AtPanel'));\n  const AtSelect = defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtSelect/AtSelect'));\n  const AtButton = defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtButton/AtButton'));\n  const AtRadioGroup = defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtRadioGroup/AtRadioGroup'));\n  const AtInput = defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtInput/AtInput'));\n  const AtModal = defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtModal/AtModal'));\n\n  const gender = ref(null);\n  const language = ref(null);\n  const clientBirthdate = ref(null);\n  const btnLoading = ref(false);\n  const family_status = ref('');\n  const dataListValue = ref('');\n  const fieldData = ref('');\n  const activatedAnimation = ref(false);\n  const errorMessage = ref('');\n  const totalPoint = ref(0);\n  const store = useStore();\n  const modal = ref(false);\n\n  const clientscoringData = computed(() => {\n    return store.getters['core/getScorePointPersonalData'];\n  });\n  const clientConfidence = computed(() => {\n    return store.getters['core/getConfidencePointPersonalData'];\n  });\n  const showTotalPoint = () => {\n    if (!store.getters['core/getScorePointPersonalData'] || !store.getters['core/getConfidencePointPersonalData']) {\n      return (errorMessage.value = 'Пожалуйста заполните карточку По Персональным данным');\n    } else if (!store.getters['core/getScorePointCardData'] || !store.getters['core/getConfidencePointCardData']) {\n      errorMessage.value = 'Пожалуйста заполните карточку По Скоринг карты';\n    } else if (!store.getters['core/getConfidencePointCreditData'] || !store.getters['core/getScorePointCreditData']) {\n      return (errorMessage.value = 'Пожалуйста заполните карточку По КБ');\n    } else if (\n      store.getters['core/getScorePointPersonalData'] &&\n      store.getters['core/getConfidencePointPersonalData'] &&\n      store.getters['core/getScorePointCardData'] &&\n      store.getters['core/getConfidencePointCardData'] &&\n      store.getters['core/getConfidencePointCreditData'] &&\n      store.getters['core/getScorePointCreditData']\n    ) {\n      return (totalPoint.value =\n        store.getters['core/getScorePointPersonalData'] * 0.16 +\n        store.getters['core/getScorePointCardData'] * 0.3 +\n        store.getters['core/getScorePointCreditData'] * 0.53);\n    } else {\n      return (errorMessage.value = 'Пожалуйста заполните все карточки');\n    }\n  };\n  const rules = {\n    gender: { required },\n    language: { required },\n    clientBirthdate: { required },\n    family_status: { required },\n    dataListValue: { required },\n    fieldData: { required },\n  };\n  const v$ = useVuelidate(rules, {\n    gender,\n    language,\n    clientBirthdate,\n    family_status,\n    dataListValue,\n    fieldData,\n  });\n  const sendClientScoringData = () => {\n    v$.value.$reset();\n    if (v$.value.$invalid) {\n      v$.value.$touch();\n      return;\n    } else {\n      btnLoading.value = true;\n      activatedAnimation.value = false;\n      store\n        .dispatch('core/getPersonalData', {\n          birth_date: clientBirthdate.value,\n          region: dataListValue.value,\n          gender: gender.value,\n          marital_status: family_status.value,\n          language: language.value,\n          work_sphere: fieldData.value,\n        })\n        .catch(error => {\n          $toast.show({ title: 'Error', subTitle: error?.response?.data?.message, type: 'error' });\n        })\n        .finally(() => {\n          btnLoading.value = false;\n          activatedAnimation.value = true;\n        });\n    }\n  };\n  const genders = [\n    {\n      title: 'Male',\n      value: 'M',\n    },\n    {\n      title: 'Female',\n      value: 'F',\n    },\n  ];\n  const languages = [\n    {\n      title: 'RU',\n      value: 'ru',\n    },\n    {\n      title: 'UZ',\n      value: 'uz',\n    },\n  ];\n</script>\n\n<template>\n  <div class=\"min-h-screen relative pb-4\">\n    <div class=\"w-3/5 flex justify-start\">\n      <at-panel title=\"Персональные данные\" border-header>\n        <AtInput\n          label=\"Дата рождения клиента\"\n          placeholder=\"mm-dd-YYYY\"\n          mask=\"##-##-#####\"\n          :error=\"v$.clientBirthdate.$error\"\n          v-model=\"clientBirthdate\"\n        />\n        <p class=\"text-red-500\" v-if=\"v$.clientBirthdate.$error\">Поле обязательно для заполнения</p>\n        <div class=\"mt-4\">\n          <p class=\"mb-1\">Пол</p>\n          <AtRadioGroup v-model=\"gender\" :items=\"genders\" :error=\"v$.gender.$error\"></AtRadioGroup>\n          <p class=\"text-red-500\" v-if=\"v$.gender.$error\">Выберите значение</p>\n        </div>\n        <div class=\"mt-4\">\n          <AtSelect\n            placeholder=\"Выберите регион\"\n            :error=\"v$.dataListValue.$error\"\n            :options=\"[\n              {\n                title: 'navoiy',\n                value: 'navoiy',\n              },\n              {\n                title: 'samarkand',\n                value: 'samarkand',\n              },\n              {\n                title: 'tashkent_city',\n                value: 'tashkent_city',\n              },\n              {\n                title: 'tashkent',\n                value: 'tashkent',\n              },\n              {\n                title: 'qashqadaryo',\n                value: 'qashqadaryo',\n              },\n              {\n                title: 'surxondaryo',\n                value: 'surxondaryo',\n              },\n              {\n                title: 'xorazm',\n                value: 'xorazm',\n              },\n              {\n                title: 'karakalpakstan',\n                value: 'karakalpakstan',\n              },\n              {\n                title: 'andijan',\n                value: 'andijan',\n              },\n              {\n                title: 'bukhara',\n                value: 'bukhara',\n              },\n              {\n                title: 'fergana',\n                value: 'fergana',\n              },\n              {\n                title: 'jizzakh',\n                value: 'jizzakh',\n              },\n              {\n                title: 'namangan',\n                value: 'namangan',\n              },\n              {\n                title: 'sirdarya',\n                value: 'sirdarya',\n              },\n            ]\"\n            v-model=\"dataListValue\"\n          ></AtSelect>\n          <span class=\"text-red-500\" v-if=\"v$.dataListValue.$error\">Поле обязательно для заполнения</span>\n        </div>\n        <div class=\"mt-4\">\n          <AtSelect\n            placeholder=\"Семейный статус клиента\"\n            :error=\"v$.family_status.$error\"\n            :options=\"[\n              {\n                title: 'Состоит в браке',\n                value: 'married',\n              },\n              {\n                title: 'Не состоит в браке',\n                value: 'not_married',\n              },\n              {\n                title: 'Вдова',\n                value: 'widow',\n              },\n              {\n                title: 'В разводе',\n                value: 'divorced',\n              },\n            ]\"\n            v-model=\"family_status\"\n          ></AtSelect>\n          <p class=\"text-red-500\" v-if=\"v$.family_status.$error\">Выберите значение</p>\n        </div>\n        <div class=\"mt-4\">\n          <p class=\"mb-1\">Предпочитаемый язык общения</p>\n          <AtRadioGroup v-model=\"language\" :items=\"languages\" :error=\"v$.language.$error\"></AtRadioGroup>\n          <p class=\"text-red-500\" v-if=\"v$.language.$error\">Поле обязательно для заполнения</p>\n        </div>\n        <div class=\"mt-4\">\n          <AtSelect\n            placeholder=\"Выберите сферы деятельности клиента\"\n            :error=\"v$.fieldData.$error\"\n            :options=\"[\n              {\n                title: 'Строительство,недвижимость',\n                value: 'Строительство, недвижимость',\n              },\n              {\n                title: 'Продавец-консультант,кассир',\n                value: 'Продавец-консультант, кассир',\n              },\n              {\n                title: 'Медицина,аптека',\n                value: 'Медицина, аптека',\n              },\n              {\n                title: 'Банки,лизинг,страхование',\n                value: 'Банки, лизинг, страхование',\n              },\n              {\n                title: 'Водитель,таксист',\n                value: 'Водитель, таксист',\n              },\n              {\n                title: 'Заводы,цехи,сельское хозяйство',\n                value: 'Заводы, цехи, сельское хозяйство',\n              },\n              {\n                title: 'Юристы',\n                value: 'Юристы',\n              },\n              {\n                title: 'Маркетинг,реклама,PR',\n                value: 'Маркетинг, реклама, PR',\n              },\n              {\n                title: 'Бухгалтерия',\n                value: 'Бухгалтерия',\n              },\n              {\n                title: 'Менеджер,управляющий',\n                value: 'Менеджер, управляющий',\n              },\n              {\n                title: 'Государственная служба,некоммерческие организации',\n                value: 'Государственная служба, некоммерческие организации',\n              },\n              {\n                title: 'Искусство,развлечения,масс-медиа',\n                value: 'Искусство, развлечения, масс-медиа',\n              },\n              {\n                title: 'Туризм,гостиницы,рестораны',\n                value: 'Туризм, гостиницы, рестораны',\n              },\n              {\n                title: 'Спортивные клубы,фитнес,салоны красоты',\n                value: 'Спортивные клубы, фитнес, салоны красоты',\n              },\n              {\n                title: 'Рабочий персонал',\n                value: 'Рабочий персонал',\n              },\n              {\n                title: 'Учитель, преподаватель',\n                value: 'Учитель, преподаватель',\n              },\n              {\n                title: 'Информационные технологии,интернет,телеком',\n                value: 'Информационные технологии, интернет, телеком',\n              },\n              {\n                title: 'Пенсионер/инвалид/пособия',\n                value: 'Пенсионер/инвалид/пособия',\n              },\n              {\n                title: 'Армейская служба и органы внутренних дел',\n                value: 'Армейская служба и органы внутренних дел',\n              },\n              {\n                title: 'Учащиеся/студенты',\n                value: 'Учащиеся/студенты',\n              },\n              {\n                title: 'Бизнес/предпринимательство',\n                value: 'Бизнес/предпринимательство',\n              },\n              {\n                title: 'Безработный',\n                value: 'Безработный',\n              },\n              {\n                title: 'Высший менеджмент',\n                value: 'Высший менеджмент',\n              },\n              {\n                title: 'Автомобильный бизнес',\n                value: 'Автомобильный бизнес',\n              },\n              {\n                title: 'Безопасность',\n                value: 'Безопасность',\n              },\n              {\n                title: 'Домашний персонал',\n                value: 'Домашний персонал',\n              },\n            ]\"\n            v-model=\"fieldData\"\n          >\n          </AtSelect>\n          <span class=\"text-red-500\" v-if=\"v$.fieldData.$error\">Заполните поле</span>\n        </div>\n        <div class=\"mt-4 flex justify-center items-center\">\n          <AtButton color=\"primary\" @click=\"sendClientScoringData()\" :loading=\"btnLoading\">Отправить</AtButton>\n        </div>\n      </at-panel>\n      <transition name=\"fade\">\n        <div class=\"w-2/6 absolute top-0.5 right-8\" style=\"z-index: 2\" v-if=\"activatedAnimation\">\n          <at-panel title=\"Результат\" border-header>\n            <div v-if=\"clientscoringData && clientConfidence\">\n              <p>\n                Скоринг клиента:\n                <span class=\"text-xl font-bold\">{{ clientscoringData }}</span>\n              </p>\n              <p>\n                Значимость балла:\n                <span class=\"text-xl font-bold\">{{ clientConfidence }}</span>\n              </p>\n              <div class=\"flex justify-center mt-4 items-center\">\n                <at-button color=\"primary\" @click=\"showTotalPoint(), (modal = true)\">Общий балл</at-button>\n              </div>\n            </div>\n          </at-panel>\n        </div>\n      </transition>\n    </div>\n  </div>\n  <AtModal v-model=\"modal\" title=\"Уверенность в назначенном балле\">\n    <div v-if=\"errorMessage\">\n      <h1 class=\"text-base text-yellow-500\">{{ errorMessage + '!!!' }}</h1>\n    </div>\n    <div v-else>\n      <p class=\"text-center text-base font-bold\">\n        Общий балл: <span class=\"font-bold text-xl text-green-500\">{{ totalPoint.toFixed(2) + ' ' }}</span> баллов\n      </p>\n    </div>\n    <div class=\"flex mt-2 justify-center items-center\">\n      <at-button color=\"danger\" @click=\"modal = false\">Закрыть</at-button>\n    </div>\n  </AtModal>\n</template>\n\n<style scoped>\n  .fade-enter-active,\n  .fade-leave-active {\n    transform: translateX(-20px);\n    transition: all ease-in 0.6s;\n  }\n\n  .fade-enter,\n  .fade-leave-to {\n    opacity: 0;\n  }\n</style>\n"]}]}